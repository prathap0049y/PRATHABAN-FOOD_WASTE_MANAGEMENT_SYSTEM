<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sample Form with Animated Button</title>
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <style>
    /* CSS from earlier */
    html {
      box-sizing: border-box;
      font-size: 62.5%;
      overflow: hidden;
    }

    *, *::after, *::before {
      padding: 0;
      margin: 0;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      box-sizing: inherit;
    }

    body {
      background-color: #d81b60; /* Pink light background */
      font-family: "Roboto", sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .form-container {
      background-color: white;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      width: 100%;
      max-width: 400px;
    }

    .form-container h2 {
      margin-bottom: 1.5rem;
      font-size: 2rem;
      color: #333;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-size: 1rem;
      color: #555;
    }

    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 1rem;
      font-family: "Roboto", sans-serif;
    }

    .form-group textarea {
      resize: vertical;
      min-height: 100px;
    }

    .send-button {
      position: relative;
      background-color: #c51162; /* Pink */
      width: 100%;
      height: 45px;
      border-radius: 2px;
      box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12), 0 2px 4px -1px rgba(0, 0, 0, 0.3);
      cursor: pointer;
      user-select: none;
      transition: transform 0.15s;
      text-shadow: 1px 2px 1px rgba(77, 9, 36, 0.6);
      border: none;
      color: #f8bbd0; /* Pink white */
      font-family: "Roboto", sans-serif;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      padding-left: 20px; /* Add padding to the left to avoid overlap with icons */
    }

    .send-button .text {
      position: relative; /* Change from absolute to relative */
      line-height: 45px; /* Match button height */
      z-index: 1; /* Ensure text is above icons */
    }

    .send-button .icon-wrapper {
      position: absolute;
      right: -65px;
      bottom: -10px;
      width: 200px;
      height: 200px;
      border-radius: 50%;
      line-height: 45px;
      color: #f8bbd0; /* Pink white */
      z-index: 0; /* Ensure icons are behind text */
    }

    .send-button .icon-wrapper [class*="icon-"] {
      position: absolute;
      left: 100px;
      bottom: 10px;
      transition: color 0.6s ease;
    }

    .send-button .icon-wrapper .icon-1 {
      transform: rotate(15deg);
      font-size: 2.3rem;
      opacity: 1;
    }

    .send-button .icon-wrapper .icon-2 {
      opacity: 0;
      font-size: 2.5rem;
    }

    /* Animations */
    @keyframes icon-animation {
      0% {
        transform: rotate(0deg) scale(1);
      }
      33% {
        transform: rotate(-120deg) scale(4);
      }
      66% {
        transform: rotate(-240deg) scale(4);
      }
      100% {
        transform: rotate(-360deg) scale(1);
      }
    }

    @keyframes input-shadow {
      0% {
        box-shadow: 0 3px 3px 0 rgba(0, 0, 0, 0.14), 0 1px 7px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -1px rgba(0, 0, 0, 0.2);
      }
      40% {
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
      }
      50% {
        box-shadow: none;
      }
      70% {
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
      }
      100% {
        box-shadow: 0 3px 3px 0 rgba(0, 0, 0, 0.14), 0 1px 7px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -1px rgba(0, 0, 0, 0.2);
      }
    }

    .icon-wrapper-animation {
      animation: icon-animation 1.5s linear;
      transition: color 0.6s ease;
      color: #66bb6a; /* Green */
    }

    .clicked {
      transform: translateY(1px) !important;
      transition: transform 0.15s ease;
      animation: input-shadow 0.15s ease;
      box-shadow: 0 3px 3px 0 rgba(0, 0, 0, 0.14), 0 1px 7px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -1px rgba(0, 0, 0, 0.2);
    }
  </style>
</head>
<body>
  <div class="form-container">
    <h2>Contact Us</h2>
    <form id="contact-form">
      <div class="form-group">
        <label for="name">Name</label>
        <input type="text" id="name" name="name" required>
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" required>
      </div>
      <div class="form-group">
        <label for="message">Message</label>
        <textarea id="message" name="message" required></textarea>
      </div>
      <button type="submit" class="send-button">
        <span class="text">send</span>
        <span class="icon-wrapper">
          <span class="icon-1 ion-paper-airplane"></span>
          <span class="icon-2 ion-checkmark"></span>
        </span>
      </button>
    </form>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(() => {
      var $sendBtn = $('.send-button'),
          $iWrapper = $('.icon-wrapper'),
          $i1 = $('.icon-1'),
          $i2 = $('.icon-2');

      function animationEvent() {
        var t,
            el = document.createElement('fakeelement');

        var animations = {
          animation: 'animationend',
          OAnimation: 'oAnimationEnd',
          MozAnimation: 'animationend',
          WebkitAnimation: 'webkitAnimationEnd'
        };

        for (t in animations) {
          if (el.style[t] !== undefined) {
            return animations[t];
          }
        }
      }

      $sendBtn.on('click', e => {
        e.preventDefault(); // Prevent form submission for demo
        $iWrapper.css('color', '#66bb6a');
        $iWrapper.addClass('icon-wrapper-animation');
        $sendBtn.addClass('clicked');
        $i1.delay(900);
        $i1.fadeTo(300, 0);
        $i2.delay(900);
        $i2.fadeTo(300, 1);
      });

      $sendBtn.on(animationEvent(), e => {
        if (e.originalEvent.animationName == 'input-shadow') {
          $sendBtn.removeClass('clicked');
        }
      });

      $iWrapper.on(animationEvent(), e => {
        if (e.originalEvent.animationName == 'icon-animation') {
          $iWrapper.removeClass('icon-wrapper-animation');
          setTimeout(reset, 1200);
        }
      });

      function reset() {
        $i1.fadeTo(250, 1);
        $i2.fadeTo(250, 0);
        $iWrapper.css('color', '#f8bbd0');
      }
    });
  </script>
</body>
</html>